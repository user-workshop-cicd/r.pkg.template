---
name: Sample reusable workflow ‚ôªÔ∏è

on:
  workflow_call:
    inputs:
      name:
        description: Your name
        required: false
        default: "<name>"
        type: string

jobs:
  greetings:
    name: Greet the user üëã
    runs-on: ubuntu-latest
    if: >
      inputs.name != 'Octocat'
    container:
      image: rocker/r-ubuntu:latest

    steps:
      - name: Setup R üîß
        uses: r-lib/actions/setup-r@v2

      - name: Hello world! üí¨
        run: cat(paste0("Hello ${{ inputs.name }}! üëã"))
        shell: Rscript {0}

      - name: Greet people with R in their name
        if: >
          contains(inputs.name, 'R') || contains(inputs.name, 'r')
        run: |
          cat("Your name (${{ inputs.name }}) contains the letter 'R'. How cool!")
        shell: Rscript {0}

      - name: Greet people without R in their name
        if: >
          !contains(inputs.name, 'R') && !contains(inputs.name, 'r')
        run: |
          cat("Your name (${{ inputs.name }}) doesn't contain the letter 'R'. That's great!")
        shell: Rscript {0}
